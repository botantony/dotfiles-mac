#!/usr/bin/env bash

HOMEBREW_PATHS=(
    "${HOME}/Development/Personal/update-formulae"
    "$(brew --repository homebrew/core)"
    "$(brew --prefix)/Library/Homebrew"
    "$(brew --repository homebrew/cask)"
)

HOMEBREW_WINDOW_NAMES=(
    "update-formulae"
    "Core"
    "Brew"
    "Cask"
)

tmux kill-server

tmux new-session -d -s Personal -n main

tmux new-session -d -s Homebrew -n "${HOMEBREW_WINDOW_NAMES[0]}" -c "${HOMEBREW_PATHS[0]}"
HOMEBREW_ARRAY_LEN="${#HOMEBREW_WINDOW_NAMES[@]}"

for i in $(seq 1 $HOMEBREW_ARRAY_LEN); do
    tmux new-window -t Homebrew -n "${HOMEBREW_WINDOW_NAMES[$i]:-empty}" -c "${HOMEBREW_PATHS[$i]}"
done

tmux new-session -d -s Work -n main -c "${HOME}/Development/Work/${JOB_DIR}"
tmux new-window -t Work -n docker/compose -c "${HOME}/Development/Work"
tmux new-window -t Work -n docker/exec -c "${HOME}/Development/Work"

tmux new-session -d -s Studying -n main -c "${HOME}/Studying"

tmux attach -t Personal
